<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
    <title>Lessons - AHCBUS408 Budget Master</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <div class="container">
            <h1>AHCBUS408 Budget Master</h1>
            <p>Agricultural Budgeting Training Tool</p>
        </div>
    </header>

    <nav>
        <div class="container">
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="lessons.html" class="active">Lessons</a></li>
                <li><a href="budget.html">Budget Simulator</a></li>
                <li><a href="assessments.html">Assessments</a></li>
            </ul>
        </div>
    </nav>

    <main class="container">
        <h2>Budget Management Lessons</h2>
        <p>Explore our comprehensive lessons on farm budget management. Each lesson includes interactive content, examples, and practice activities.</p>
        
        <div class="lesson-filters">
            <button class="filter-btn active" data-filter="all">All Lessons</button>
            <button class="filter-btn" data-filter="basics">Budget Basics</button>
            <button class="filter-btn" data-filter="planning">Budget Planning</button>
            <button class="filter-btn" data-filter="monitoring">Monitoring & Analysis</button>
            <button class="filter-btn" data-filter="advanced">Advanced Topics</button>
        </div>
        
        <div class="lessons-grid">
            <!-- Lesson 1 -->
            <div class="lesson-card" data-category="basics">
                <div class="lesson-header">
                    <span class="lesson-number">Lesson 1</span>
                    <span class="lesson-duration">30 minutes</span>
                </div>
                <h3>Introduction to Farm Budgeting</h3>
                <p>Learn the fundamentals of farm budgeting, including key terminology and basic concepts.</p>
                <ul class="lesson-topics">
                    <li>What is a budget?</li>
                    <li>Types of farm budgets</li>
                    <li>Budget components</li>
                    <li>Budget timeframes</li>
                </ul>
                <a href="#" class="btn" data-lesson-id="lesson1">Start Lesson</a>
            </div>
            
            <!-- Lesson 2 -->
            <div class="lesson-card" data-category="basics">
                <div class="lesson-header">
                    <span class="lesson-number">Lesson 2</span>
                    <span class="lesson-duration">45 minutes</span>
                </div>
                <h3>Income Categories in Farm Budgets</h3>
                <p>Explore the various income sources in agricultural operations and how to categorize them.</p>
                <ul class="lesson-topics">
                    <li>Crop sales income</li>
                    <li>Livestock income</li>
                    <li>Government payments</li>
                    <li>Other farm income</li>
                </ul>
                <a href="#" class="btn" data-lesson-id="lesson2">Start Lesson</a>
            </div>
            
            <!-- Lesson 3 -->
            <div class="lesson-card" data-category="basics">
                <div class="lesson-header">
                    <span class="lesson-number">Lesson 3</span>
                    <span class="lesson-duration">45 minutes</span>
                </div>
                <h3>Expense Categories in Farm Budgets</h3>
                <p>Learn about the different types of expenses in farm operations and how to track them.</p>
                <ul class="lesson-topics">
                    <li>Variable costs</li>
                    <li>Fixed costs</li>
                    <li>Operating expenses</li>
                    <li>Capital expenses</li>
                </ul>
                <a href="#" class="btn" data-lesson-id="lesson3">Start Lesson</a>
            </div>
            
            <!-- Lesson 4 -->
            <div class="lesson-card" data-category="planning">
                <div class="lesson-header">
                    <span class="lesson-number">Lesson 4</span>
                    <span class="lesson-duration">60 minutes</span>
                </div>
                <h3>Creating a Farm Budget</h3>
                <p>Step-by-step guide to creating a comprehensive farm budget from scratch.</p>
                <ul class="lesson-topics">
                    <li>Gathering financial information</li>
                    <li>Estimating income</li>
                    <li>Projecting expenses</li>
                    <li>Setting realistic goals</li>
                </ul>
                <a href="#" class="btn" data-lesson-id="lesson4">Start Lesson</a>
            </div>
            
            <!-- Lesson 5 -->
            <div class="lesson-card" data-category="planning">
                <div class="lesson-header">
                    <span class="lesson-number">Lesson 5</span>
                    <span class="lesson-duration">45 minutes</span>
                </div>
                <h3>Seasonal Budget Planning</h3>
                <p>Learn how to plan budgets that account for the seasonal nature of agricultural operations.</p>
                <ul class="lesson-topics">
                    <li>Seasonal cash flow patterns</li>
                    <li>Planning for peak seasons</li>
                    <li>Managing off-season expenses</li>
                    <li>Quarterly budget reviews</li>
                </ul>
                <a href="#" class="btn" data-lesson-id="lesson5">Start Lesson</a>
            </div>
            
            <!-- Lesson 6 -->
            <div class="lesson-card" data-category="monitoring">
                <div class="lesson-header">
                    <span class="lesson-number">Lesson 6</span>
                    <span class="lesson-duration">50 minutes</span>
                </div>
                <h3>Tracking Budget Performance</h3>
                <p>Discover effective methods for tracking actual performance against budgeted figures.</p>
                <ul class="lesson-topics">
                    <li>Recording financial transactions</li>
                    <li>Categorizing income and expenses</li>
                    <li>Regular budget reviews</li>
                    <li>Using financial software</li>
                </ul>
                <a href="#" class="btn" data-lesson-id="lesson6">Start Lesson</a>
            </div>
            
            <!-- Lesson 7 -->
            <div class="lesson-card" data-category="monitoring">
                <div class="lesson-header">
                    <span class="lesson-number">Lesson 7</span>
                    <span class="lesson-duration">55 minutes</span>
                </div>
                <h3>Variance Analysis</h3>
                <p>Learn how to identify, analyze, and respond to variances between budgeted and actual figures.</p>
                <ul class="lesson-topics">
                    <li>Calculating variances</li>
                    <li>Identifying significant variances</li>
                    <li>Root cause analysis</li>
                    <li>Corrective actions</li>
                </ul>
                <a href="#" class="btn" data-lesson-id="lesson7">Start Lesson</a>
            </div>
            
            <!-- Lesson 8 -->
            <div class="lesson-card" data-category="advanced">
                <div class="lesson-header">
                    <span class="lesson-number">Lesson 8</span>
                    <span class="lesson-duration">60 minutes</span>
                </div>
                <h3>Budget Adjustments and Revisions</h3>
                <p>Strategies for making effective adjustments to your budget based on performance and changing conditions.</p>
                <ul class="lesson-topics">
                    <li>When to revise a budget</li>
                    <li>Mid-year adjustments</li>
                    <li>Reallocation strategies</li>
                    <li>Documenting changes</li>
                </ul>
                <a href="#" class="btn" data-lesson-id="lesson8">Start Lesson</a>
            </div>
            
            <!-- Lesson 9 -->
            <div class="lesson-card" data-category="advanced">
                <div class="lesson-header">
                    <span class="lesson-number">Lesson 9</span>
                    <span class="lesson-duration">70 minutes</span>
                </div>
                <h3>Risk Management in Budgeting</h3>
                <p>Explore how to incorporate risk management strategies into your farm budget planning.</p>
                <ul class="lesson-topics">
                    <li>Identifying financial risks</li>
                    <li>Contingency planning</li>
                    <li>Scenario analysis</li>
                    <li>Insurance considerations</li>
                </ul>
                <a href="#" class="btn" data-lesson-id="lesson9">Start Lesson</a>
            </div>
            
            <!-- Lesson 10 -->
            <div class="lesson-card" data-category="advanced">
                <div class="lesson-header">
                    <span class="lesson-number">Lesson 10</span>
                    <span class="lesson-duration">65 minutes</span>
                </div>
                <h3>Budget Reporting and Communication</h3>
                <p>Learn how to effectively report budget performance and communicate financial information to stakeholders.</p>
                <ul class="lesson-topics">
                    <li>Creating budget reports</li>
                    <li>Visual presentation of data</li>
                    <li>Stakeholder communication</li>
                    <li>Action recommendations</li>
                </ul>
                <a href="#" class="btn" data-lesson-id="lesson10">Start Lesson</a>
            </div>
        </div>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2025 AHCBUS408 Budget Master</p>
        </div>
    </footer>
    
    <script>
        // SCORM INTEGRATION POINT: Initialize SCORM API connection
        // Add code here to:
        // 1. Detect SCORM API
        // 2. Initialize connection
        // 3. Set lesson status to "incomplete" if not already started
        // 4. Load any saved bookmark or suspend data
        
        document.addEventListener('DOMContentLoaded', function() {
            // Lesson filtering functionality with error handling
            const filterButtons = document.querySelectorAll('.filter-btn');
            const lessonCards = document.querySelectorAll('.lesson-card');
            
            filterButtons.forEach(button => {
                button.addEventListener('click', function() {
                    // Update active button
                    filterButtons.forEach(btn => btn.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Filter lessons
                    const filter = this.getAttribute('data-filter');
                    let visibleCount = 0;
                    
                    lessonCards.forEach(card => {
                        if (filter === 'all' || card.getAttribute('data-category') === filter) {
                            card.style.display = 'block';
                            visibleCount++;
                        } else {
                            card.style.display = 'none';
                        }
                    });
                    
                    // Show message if no items match the filter
                    let noResultsMessage = document.getElementById('no-results-message');
                    
                    if (visibleCount === 0) {
                        if (!noResultsMessage) {
                            noResultsMessage = document.createElement('div');
                            noResultsMessage.id = 'no-results-message';
                            noResultsMessage.className = 'feedback info';
                            noResultsMessage.textContent = 'No lessons match the selected filter.';
                            
                            // Insert after the filter buttons
                            const container = document.querySelector('.lessons-grid');
                            container.parentNode.insertBefore(noResultsMessage, container);
                        }
                        
                        // Scroll to the message
                        noResultsMessage.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    } else if (noResultsMessage) {
                        noResultsMessage.remove();
                    }
                });
            });

            // Add event listeners to lesson buttons
            document.querySelectorAll('.lesson-card .btn').forEach(button => {
                button.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    const lessonCard = this.closest('.lesson-card');
                    const lessonNumber = lessonCard.querySelector('.lesson-number').textContent;
                    const lessonTitle = lessonCard.querySelector('h3').textContent;
                    const lessonId = this.getAttribute('data-lesson-id');
                    
                    // SCORM INTEGRATION POINT: Track lesson start
                    // Add code here to:
                    // 1. Set the lesson objective status to "attempted"
                    // 2. Record the timestamp when lesson was started
                    
                    // For demonstration purposes only:
                    console.log(`Lesson started: ${lessonNumber} - ${lessonTitle} (${lessonId})`);
                    
                    // Continue with lesson launch
                    alert(`Starting lesson: ${lessonTitle}`);
                    
                    // Simulate lesson completion after a delay (for demonstration)
                    setTimeout(() => {
                        completeLesson(lessonId);
                    }, 3000);
                });
            });

            // Make navigation more touch-friendly
            const navItems = document.querySelectorAll('nav a');
            
            navItems.forEach(item => {
                // Add touch area padding
                item.style.padding = '10px 15px';
                
                // Add active state for touch feedback
                item.addEventListener('touchstart', function() {
                    this.style.backgroundColor = '#1c638d';
                });
                
                item.addEventListener('touchend', function() {
                    // Only reset if not the active item
                    if (!this.classList.contains('active')) {
                        this.style.backgroundColor = '';
                    }
                });
            });

            // Handle orientation changes
            window.addEventListener('orientationchange', function() {
                // Small delay to allow the browser to complete the orientation change
                setTimeout(function() {
                    // Adjust any scrollable containers
                    const scrollContainers = document.querySelectorAll('.lesson-filters');
                    scrollContainers.forEach(container => {
                        container.style.maxWidth = window.innerWidth + 'px';
                    });
                }, 200);
            });
        });
        
        // Function to handle lesson completion
        function completeLesson(lessonId) {
            // SCORM INTEGRATION POINT: Track lesson completion
            // Add code here to:
            // 1. Set the lesson objective status to "completed"
            // 2. Update overall course progress
            // 3. Record completion timestamp
            
            // For demonstration purposes only:
            console.log(`Lesson completed: ${lessonId}`);
        }
        
        // SCORM INTEGRATION POINT: Save session state on exit
        // Add code here to:
        // 1. Save current state to suspend_data if needed
        // 2. Call Commit() to ensure data is saved
        // 3. If user is completely exiting, call Terminate()
        window.addEventListener('beforeunload', function() {
            // For demonstration purposes only:
            console.log("Page unloading, session data would be saved here");
        });
    </script>
</body>
</html>